package com.bjcareer.GPTService.out.api.gpt.thema.Prompt;

import java.time.LocalDate;

import com.bjcareer.GPTService.config.AppConfig;

public class ThemaQuestionPrompt {
	public static final String QUESTION_PROMPT =
		"이 뉴스의 발행일은 %s입니다.\n"
			+ "오늘의 날짜는" + LocalDate.now(AppConfig.ZONE_ID) + "입니다.\n"
			+ "기사 내용: <article>%s</article>\n"
			+ "내가 알고 있는 테마 목록은 다음과 같습니다: <themas>%s</themas>\n\n"

			+ "Imagine a panel of three experts collaboratively addressing this question.\n"
			+ "Each expert will contribute one step of their thought process,\n"
			+ "iteratively refining the analysis through group discussion.\n"
			+ "If an error is identified in any reasoning, it will be corrected or excluded from the discussion.\n\n"

			+ "질문: 기사의 정보성을 평가하고, 해당 기사가 테마를 가질 수 있는 뉴스인지 평가하세요.\n\n"

			+ "### 정보성 및 테마 평가 방법\n\n"

			+ "**1단계: 정책에 관한 뉴스인지 평가**\n"
			+ "- 새로운 정책 발표 또는 기존 정책의 변경 사항에 관한 뉴스인지 평가하세요.\n"
			+ "- 정책 뉴스는 반드시 다음을 포함해야 합니다:\n"
			+ "  1. 정책의 구체적 내용.\n"
			+ "  2. 해당 정책이 산업이나 기업에 미칠 수 있는 영향.\n"
			+ "  3. 정책의 적용 시기 및 대상.\n"
			+ "- 예: '정부가 2024년부터 전기차 구매 보조금을 20%% 인상하기로 결정.'\n\n"

			+ "**2단계: 사회현상에 관련한 뉴스인지 평가**\n"
			+ "- 사회적 문제, 트렌드, 또는 경제적 변화가 주된 내용인지 확인하세요.\n"
			+ "- 사회현상 뉴스는 반드시 다음을 포함해야 합니다:\n"
			+ "  1. 사회적 변화의 구체적 사례 또는 통계.\n"
			+ "  2. 해당 현상이 특정 산업이나 주식시장에 미치는 영향.\n"
			+ "- 예: '저출산 문제로 인해 유아용품 시장 매출이 10%% 감소.'\n\n"

			+ "**3단계: 인물에 관한 뉴스인지 평가**\n"
			+ "- 정치인, 유명인 또는 기업 리더와 관련된 뉴스인지 확인하세요.\n"
			+ "- 인물 뉴스는 다음을 포함해야 합니다:\n"
			+ "  1. 해당 인물이 주식시장이나 특정 산업에 미치는 직접적 또는 간접적 영향.\n"
			+ "  2. 발언, 행동, 또는 법적 사건이 주된 원인으로 제시되었거나, 그 영향 가능성이 논리적으로 추론될 수 있는지.\n"
			+ "- 정치적 사건이 특정 테마주(정치 테마주, 인물 테마주)에 영향을 미칠 가능성이 있는 경우 true로 평가합니다.\n"
			+ "- 예:\n"
			+ "  - '이재명 대표의 무죄 판결 이후 관련 테마주 상승.'\n"
			+ "  - '유명 정치인의 발언이 특정 테마주 상승을 유발.'\n"
			+ "- 정치적 사건이 경제 또는 산업적 맥락을 내포하고 있을 경우도 true로 평가합니다.\n"

			+ "**4단계: 기술 관련 뉴스인지 평가**\n"
			+ "- 새로운 기술, 기술 혁신, 또는 기술 발전에 관한 뉴스인지 평가하세요.\n"
			+ "- 기술 뉴스는 반드시 다음을 포함해야 합니다:\n"
			+ "  1. 구체적인 기술의 이름과 설명.\n"
			+ "  2. 기술이 특정 산업, 기업, 또는 주식시장에 미칠 수 있는 영향.\n"
			+ "- 예: '대동이 북미 시장을 겨냥한 농기계 커넥티드 서비스 앱을 출시하며, AI 기반 농업 기술을 적용.'\n\n"

			+ "**5단계: 홍보성 기사인지 평가**\n"
			+ "- 기사 내용이 특정 회사 또는 제품의 긍정적 효과만을 강조하며, 객관적 정보나 시장 맥락이 부족한 경우 홍보성 기사로 분류합니다.\n"
			+ "- 다음과 같은 경우 홍보성 기사로 간주합니다:\n"
			+ "  1. 경쟁사나 시장에 대한 비교 없이 특정 회사의 성과만 반복적으로 강조.\n"
			+ "  2. 주식시장이나 산업 전체에 미치는 영향을 설명하지 않고, 회사의 제품이나 서비스만 광고.\n"
			+ "  3. 과장된 표현이나 긍정적 언어(예: '혁신적', '타의 추종을 불허하는 품질')가 기사 전반에 걸쳐 사용됨.\n"
			+ "- 홍보성 기사로 분류되면 'false'로 평가합니다.\n"

			+ "**최종 평가**\n"
			+ "- 1~4단계 중 하나라도 충족하고, 구체적 데이터와 맥락이 포함되어 있으면 'true'.\n"
			+ "- 모든 단계에서 조건을 충족하지 못하거나, 구체성이 부족하면 'false'.\n"

			+ "질문: 테마키워드와 이유를 알려주세요.\n\n"

			+ "단계 1: **주요 이유 식별**\n"
			+ "- 기사 내용을 원인과 결과 형식으로 요악합니다. 원인과 결과가 불명확한 경우는 기사 내용을 요약하는 방식을 선택합니다.\n"
			+ "- 식별된 이유를 사용하여 다음 단계로 진행합니다.\n\n"

			+ "단계 2: **주요 이유를 키워드로 변환**\n"
			+ "- 기사 내용을 바탕으로 원인을 간결하고 강렬한 키워드로 변환합니다.\n"
			+ "- 키워드는 주제의 핵심을 나타내며, 독립적으로도 직관적인 의미를 전달할 수 있어야 합니다.\n"
			+ "- 보다 일반적인 표현보다는 사건이나 기술, 현상의 중심 개념을 선택하세요.\n"
			+ "- 예:\n"
			+ "  - '딥페이크 기술을 활용한 투자 사기 사건 발생' → 키워드: '딥페이크'\n"
			+ "  - '정부가 재생 에너지 보조금을 발표' → 키워드: '재생 에너지'\n"
			+ "  - '자율주행 기술 규제 완화 정책 발표' → 키워드: '자율주행'\n"
			+ "- 세부적인 사건을 포괄할 수 있는 키워드를 우선적으로 선택합니다.\n"

			+ "단계 3: **산업, 정책, 또는 기술 기반 테마 추출**\n"
			+ "- 테마는 산업 동향, 정책 변화, 또는 기술 발전과 같은 광범위한 개념을 나타내야 합니다.\n"
			+ "- 이벤트가 여러 산업이나 프로젝트에 걸쳐 있는 경우, 가장 영향력이 높다고 생각하는 테마를 우선적으로 선택하세요.\n"
			+ "- 사건이 특정 인물과 직접적으로 연관되어 있을 경우, 해당 인물의 이름을 우선적으로 테마로 사용하세요.\n"
			+ "- 예시:\n"
			+ "  - '오세훈 서울시장의 여론조사 비용 논란이 정치자금법 위반으로 확대' → 테마: '오세훈'\n"
			+ "  - '우크라이나 재건 프로젝트가 농기계 시장에 미치는 영향' → 테마: '우크라이나 재건'\n"
			+ "  - '정부가 재생 에너지 보조금을 발표' → 테마: '재생 에너지'\n"
			+ "- 유효한 테마를 추출할 수 없는 경우, 단계 4로 진행합니다.\n\n"

			+ "단계 3.1: **테마 이름 간결화 규칙 추가**\n"
			+ "- 테마 이름은 구체적인 사건이나 정책보다는 해당 사건을 대표할 수 있는 간결하고 포괄적인 키워드로 구성해야 합니다.\n"
			+ "- 지나치게 구체적인 사건 설명은 생략하고, 주제를 포괄할 수 있는 대표 키워드만 사용하세요.\n"
			+ "- 예시:\n"
			+ "  - '자율주행 기술 규제 완화' → 테마: '자율주행'\n"
			+ "  - '재생 에너지 보조금 정책 발표' → 테마: '재생 에너지'\n"
			+ "  - '우크라이나 농업 재건 프로젝트' → 테마: '우크라이나 재건'\n"
			+ "- 간결한 키워드는 테마 분석 및 분류의 일관성을 유지하는 데 도움을 줍니다.\n"

			+ "단계 4: **테마 이름의 일관성 보장**\n"
			+ "- 테마 이름은 일관성이 있어야 합니다.\n"
			+ "- 사용자가 질문한 내용에 <themes> </themes> 태그에 비슷한 맥락의 테마가 존재하면 해당 단어를 테마로 채택합니다.\n"
			+ "- 비슷한 단어가 없다면 새로운 테마를 생성합니다.\n"
			+ "- 비슷한 테마를 탐색할 때, 유사도 기준(예: Cosine Similarity, 임계값 0.8 이상)을 사용하여 결정합니다.\n"
			+ "- 유사도가 임계값에 미치지 못하면 새로운 테마로 생성합니다.\n"

			+ "단계 5: **출력 형식 정의**\n"
			+ "- 테마와 원인을 다음 형식으로 출력하세요:\n"
			+ "  - 테마: [테마 이름]\n"
			+ "  - 원인: [원인 이름]\n"
			+ "- 유효한 테마가 없는 경우, 빈 객체를 사용하세요(예: 테마: \"\", 원인: \"\").\n"
			+ "- 테마와 원인은 반드시 한국어로 작성되어야 합니다. 원래 텍스트가 외국어인 경우, 적절히 번역하여 제공하세요.\n"
			+ "- 날짜는 반드시 YYYY-MM-DD 형식을 따라야 합니다.\n"

			+ "### 출력 요구사항\n"
			+ "- 응답은 반드시 한국어로 작성되어야 합니다.\n";
}
