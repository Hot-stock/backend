package com.bjcareer.GPTService.out.api.gpt.thema.prompt;

import java.time.LocalDate;

import com.bjcareer.GPTService.config.AppConfig;

public class ThemaQuestionPrompt {
	public static final String QUESTION_PROMPT =
		"이 뉴스의 발행일은 %s입니다.\n"
			+ "오늘의 날짜는" + LocalDate.now(AppConfig.ZONE_ID) + "입니다.\n"
			+ "기사 내용: <article>%s</article>\n"
			+ "내가 알고 있는 테마 목록은 다음과 같습니다: <themas>%s</themas>\n\n"

			+ "Imagine three different experts are answering this question.\n"
			+ "All experts will write down one step of their thought process\n"
			+ "and then share it with the group.\n"
			+ "Next, all experts proceed to the next step, and so on.\n"
			+ "If any expert realizes they are wrong at any point, they leave.\n"
			+ "The content of a news article is provided within <article> </article> XML tags.\n"
			+ "The task is to summarize the news in three lines.\n"

			+ "질문: 기사의 내용이 '관련있음'으로 평가되는지 '관련없음'으로 평가되는지 알려줘\n\n"

			+ "**1단계: 홍보성 기사 평가**\n"
			+ "- `<article></article>` 태그 내 기사 내용을 요약하고, 홍보성 기사인지 평가합니다.\n"
			+ "- 아래 기준에 해당하면 홍보성 기사로 간주합니다:\n"
			+ "  1. 경쟁사나 시장과 비교 없이 특정 회사의 성과만 반복 강조.\n"
			+ "  2. 회사 제품이나 서비스의 광고에만 집중.\n"
			+ "  3. 과장된 표현이나 긍정적 언어(예: '혁신적', '타의 추종을 불허하는 품질')가 기사 전반에 걸쳐 사용됨.\n"
			+ "  4. 브랜드 평판 조사나 설문 결과만 기사로 제시.\n"
			+ "  5. 정책의 성과만 강조한 기사.\n"
			+ "- 홍보성 기사로 분류되면 '관련없음'으로 평가하고, 그렇지 않으면 다음 단계로 진행합니다.\n\n"

			+ "**2단계: 사건의 파급력 분석**\n"
			+ "- 사건의 규모와 영향력을 평가합니다.\n"
			+ "- 정치적 사건(법적 사건, 수사, 지지율 변화 등)은 기본적으로 높은 파급력을 가진 것으로 분류합니다.\n"
			+ "- 단일 기업에 국한된 정보는 제외합니다.\n"
			+ "- 아래 기준에 따라 지역적 사건을 구분하고 필터링합니다:\n"
			+ "  1. 특정 지역 범위에만 영향을 미치는 사건은 '지역적 사건'으로 간주하고 관련없음으로 분류합니다..\n"
			+ "- 예시:\n"
			+ "  - '서울 구청의 예산 확정.' → 지역적 사건 → 관련없음.\n"
			+ "  - '서울시의 복지 정책 및 예산.' → 지역적 사건 → 관련없음.\n"
			+ "  - '국가 예산안 통과.' → 국가적 사건 → 관련있음.\n"
			+ "  - '지역구 의원이 복지 예산 확대 법안을 발의.' → 지역적 사건 → 관련없음.\n\n"

			+ "**3단계: 인물 관련 테마 평가**\n"
			+ "  - 기사가 정치인, 기업 리더와 관련된 내용을 다루는지 평가합니다.\n"
			+ "  - 인물 테마 기준:\n"
			+ "    - 발언, 행동 또는 법적 사건이나 지지율 등의 정보가 있는지 평가합니다.\n"
			+ "    - 해당 인물이 주식시장에 미칠 영향 가능성을 분석합니다.\n"
			+ "  - 예시:\n"
			+ "    - '이재명 대표의 무죄 판결 이후 관련 테마주 상승.' → 관련있음.\n"
			+ "    - '지역구 의원의 법안 발의.' → 지역적 사건 → 관련없음.\n\n"

			+ "**4단계: 정책 관련 테마 평가**\n"
			+ "- 정책 발표 또는 변경에 관한 내용인지 평가합니다.\n"
			+ "- 정책 테마 기준:\n"
			+ "  1. 정책의 구체적 내용 (예: 정부 보조금, 규제 변경).\n"
			+ "  2. 정책의 적용 시기 및 대상.\n"
			+ "- 예시:\n"
			+ "  - '정부가 2024년부터 전기차 구매 보조금을 20%% 인상하기로 결정.' → 관련있음.\n"
			+ "  - '서울 구청의 노인 복지 예산 증액 발표.' → 지역적 사건 → 관련없음.\n\n"

			+ "**5단계: 기술 관련 테마 평가**\n"
			+ "- 기술 발전, 사회적 변화, 트렌드 또는 경제적 변화를 다루는지 평가합니다.\n"
			+ "- 예시:\n"
			+ "  - 'AI 기술 발전이 제조업 생산성을 25%% 증가시켰다.' → 관련있음.\n"
			+ "  - '지역 공단의 신규 기술 도입.' → 지역적 사건 → 관련없음.\n\n"

			+ "**6단계: 주식에 영향을 미칠 수 있는지 평가**\n"
			+ "- 뉴스 내용이 주식시장에 영향을 미칠 가능성을 아래 기준에 따라 평가합니다:\n"
			+ "  1. 직접적인 경제적, 산업적 연관성이 있는지 확인.\n"
			+ "  2. 간접적으로 주식시장 심리에 영향을 줄 가능성이 있는지 분석.\n"
			+ "  5. 사건의 시간적 요소를 고려하여 즉각적 또는 장기적 영향을 판단.\n"
			+ "- 사건이 주식시장에 영향을 미칠 가능성이 명확하면 '관련 있음'으로 평가합니다. 그렇지 않으면 '관련 없음'으로 평가합니다.\n"

			+ "**최종 평가 기준**\n"
			+ "- 관련없음으로 판명나면 false로 설정합니다.\n"
			+ "- 관련있음으로 평가되면 true로 설정합니다.\n"

			+ "질문: 테마키워드와 이유를 알려주세요.\n\n"

			+ "단계 1: **주요 이유 식별**\n"
			+ "- 기사 내용을 원인과 결과 형식으로 요악합니다. 원인과 결과가 불명확한 경우는 기사 내용을 요약하는 방식을 선택합니다.\n"
			+ "- 식별된 이유를 사용하여 다음 단계로 진행합니다.\n\n"

			+ "단계 2: **주요 이유를 키워드로 변환**\n"
			+ "- 기사 내용을 바탕으로 원인을 간결하고 강렬한 키워드로 변환합니다.\n"
			+ "- 키워드는 주제의 핵심을 나타내며, 독립적으로도 직관적인 의미를 전달할 수 있어야 합니다.\n"
			+ "- 보다 일반적인 표현보다는 사건이나 기술, 현상의 중심 개념을 선택하세요.\n"
			+ "- 예:\n"
			+ "  - '딥페이크 기술을 활용한 투자 사기 사건 발생' → 키워드: '딥페이크'\n"
			+ "  - '정부가 재생 에너지 보조금을 발표' → 키워드: '재생 에너지'\n"
			+ "  - '자율주행 기술 규제 완화 정책 발표' → 키워드: '자율주행'\n"
			+ "- 세부적인 사건을 포괄할 수 있는 키워드를 우선적으로 선택합니다.\n"

			+ "단계 3: **산업, 정책, 또는 기술 기반 테마 추출**\n"
			+ "- 테마는 산업 동향, 정책 변화, 또는 기술 발전과 같은 광범위한 개념을 나타내야 합니다.\n"
			+ "- 이벤트가 여러 산업이나 프로젝트에 걸쳐 있는 경우, 가장 영향력이 높다고 생각하는 테마를 우선적으로 선택하세요.\n"
			+ "- 사건이 특정 인물과 직접적으로 연관되어 있을 경우, 해당 인물의 이름을 우선적으로 테마로 사용하세요.\n"
			+ "- 예시:\n"
			+ "  - '오세훈 서울시장의 여론조사 비용 논란이 정치자금법 위반으로 확대' → 테마: '오세훈'\n"
			+ "  - '우크라이나 재건 프로젝트가 농기계 시장에 미치는 영향' → 테마: '우크라이나 재건'\n"
			+ "  - '정부가 재생 에너지 보조금을 발표' → 테마: '재생 에너지'\n"
			+ "- 유효한 테마를 추출할 수 없는 경우, 단계 4로 진행합니다.\n\n"

			+ "단계 3.1: **테마 이름 간결화 규칙 추가**\n"
			+ "- 테마 이름은 구체적인 사건이나 정책보다는 해당 사건을 대표할 수 있는 간결하고 포괄적인 키워드로 구성해야 합니다.\n"
			+ "- 지나치게 구체적인 사건 설명은 생략하고, 주제를 포괄할 수 있는 대표 키워드만 사용하세요.\n"
			+ "- 예시:\n"
			+ "  - '자율주행 기술 규제 완화' → 테마: '자율주행'\n"
			+ "  - '재생 에너지 보조금 정책 발표' → 테마: '재생 에너지'\n"
			+ "  - '우크라이나 농업 재건 프로젝트' → 테마: '우크라이나 재건'\n"
			+ "- 간결한 키워드는 테마 분석 및 분류의 일관성을 유지하는 데 도움을 줍니다.\n"

			+ "단계 4: **테마 이름의 일관성 보장**\n"
			+ "- 테마 이름은 일관성이 있어야 합니다.\n"
			+ "- 사용자가 질문한 내용에 <themes> </themes> 태그에 비슷한 맥락의 테마가 존재하면 해당 단어를 테마로 채택합니다.\n"
			+ "- 비슷한 단어가 없다면 새로운 테마를 생성합니다.\n"
			+ "- 비슷한 테마를 탐색할 때, 유사도 기준(예: Cosine Similarity, 임계값 0.8 이상)을 사용하여 결정합니다.\n"
			+ "- 유사도가 임계값에 미치지 못하면 새로운 테마로 생성합니다.\n"

			+ "단계 5: **출력 형식 정의**\n"
			+ "- 테마와 원인을 다음 형식으로 출력하세요:\n"
			+ "  - 테마: [테마 이름]\n"
			+ "  - 원인: [원인 이름]\n"
			+ "- 유효한 테마가 없는 경우, 빈 객체를 사용하세요(예: 테마: \"\", 원인: \"\").\n"
			+ "- 테마와 원인은 반드시 한국어로 작성되어야 합니다. 원래 텍스트가 외국어인 경우, 적절히 번역하여 제공하세요.\n"
			+ "- 날짜는 반드시 YYYY-MM-DD 형식을 따라야 합니다.\n"

			+ "### 출력 요구사항\n"
			+ "- 응답은 반드시 한국어로 작성되어야 합니다.\n";
}
