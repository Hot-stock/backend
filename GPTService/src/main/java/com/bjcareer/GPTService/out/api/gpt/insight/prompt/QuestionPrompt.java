package com.bjcareer.GPTService.out.api.gpt.insight.prompt;

import java.time.LocalDate;

import com.bjcareer.GPTService.config.AppConfig;

public class QuestionPrompt {
	public static String QUESTION_FORMAT =
		"우리는 이 주식의 매수 근거 인사이트하려고 해. \n"
			+ "오늘의 날짜는 " + LocalDate.now(AppConfig.ZONE_ID) + "입니다.\n\n"
			+ "### 주식 정보\n"
			+ "- 주식 이름: <stockName> %s </stockName>\n"
			+ "- 시가 총액: <marketCap> %s </marketCap>\n\n"
			+ "### 주식 상승 이유\n"
			+ "- 주식 상승 이유(구체적으로 작성): <reason> %s </reason>\n"
			+ "### 이벤트 일정\n"
			+ "- 이벤트 일정과 이벤트가 발생할 것이라고 예상되는 이유를 요약해놨어: <upCommingDate> %s </upCommingDate>\n"
			+ "- 중요한 점은 반드시 상승한 것은 아니고, 상승을 했는지는 <reason> <reason> XML테크안에 해당 날짜가 있으면 상승했다고 판단할게.\n"
			+ "### 이벤트 관련 뉴스\n"
			+ "- 이벤트와 관련된 뉴스 요약 내용: <news> %s </news>\n"
			+ "### 슈퍼사이클 \n"
			+ "- 슈퍼사이클 시기에 나온 뉴스 내용들(요약 포함): <cycle-news> %s </cycle-news>\n"

			+ "세 명의 전문가가 협력하여 매수 추천 점수를 기반으로 주식을 평가한다고 상상해보세요.\n"
			+ "모든 전문가는 자신의 사고 과정을 한 단계씩 기록하고 그룹과 공유합니다.\n"
			+ "그 후, 모든 전문가는 다음 단계로 진행하며 평가를 반복적으로 세부 조정합니다.\n"
			+ "어떤 전문가라도 자신의 판단에 오류를 발견하면 논의에서 제외됩니다.\n"
			+ "질문: 명확한 기준에 따라 이 주식을 매수 추천 점수로 평가하는 방법은 무엇입니까?\n\n"

			+ "### 평가 방법론\n\n"

			+ "**1단계: 소형주 정의**\n"
			+ "- 소형주는 시가총액이 1,200억 원 미만인 주식으로 정의됩니다.\n"
			+ "- 소형주 여부를 확인한 후, 소형주라면 일정 이벤트의 변동성과 중요성을 강조하여 평가합니다.\n\n"

			+ "**2단계: 일정 이벤트 평가 (특히 소형주)**\n"
			+ "- 주가에 영향을 미칠 수 있는 주요 예정 이벤트를 식별합니다. 소형주에 대해서는 일정 이벤트의 확실성과 그에 따른 변동성을 더욱 중요하게 평가합니다.\n"
			+ "- 소형주의 경우, 아래 기준을 적용하여 점수를 부여합니다:\n"
			+ "  - 반드시 공식적으로 발표된 일정이어야 하며, 확인되지 않은 루머는 제외됩니다.\n"
			+ "  - 이벤트가 소형주의 변동성에 미치는 영향을 분석하고 다음 기준으로 점수를 부여합니다:\n"
			+ "    - 0: 이벤트 없음 또는 루머 기반.\n"
			+ "    - 3: 중간 정도로 확인된 이벤트 (예: 지역적 영향력의 소규모 이벤트).\n"
			+ "    - 5: 높은 변동성을 예측할 수 있는 확실한 이벤트 (예: 선거, 규제 완화 발표 등).\n"
			+ "- 예시:\n"
			+ "  - '신제품 출시 발표' → 이벤트 점수: 5 (소형주에게 큰 긍정적 영향을 미칠 가능성).\n"
			+ "  - '정부 보조금 소규모 할당' → 이벤트 점수: 3 (일부 긍정적 영향을 미침).\n\n"

			+ "**3단계: 테마 관련성 분석**\n"
			+ "- 주식이 강력하고 떠오르는 테마와 얼마나 관련이 있는지 평가합니다 (예: AI 기술 발전, 재생 에너지 정책 등).\n"
			+ "- 테마의 강도에 따라 0에서 5 사이의 점수를 부여합니다:\n"
			+ "  - 0: 관련 테마 없음.\n"
			+ "  - 3: 중간 정도의 강도 테마 (예: 특정 섹터의 성장 트렌드).\n"
			+ "  - 5: 시장 전반을 주도하는 강력한 테마 (예: 기술 또는 글로벌 정책 변화).\n\n"

			+ "**4단계: 전문가 조정 적용 (사실 기반)**\n"
			+ "- 전문가가 주식의 반대 산업이나 경쟁 주체에서 악재가 나왔는지 평가하여 점수를 조정합니다.\n"
			+ "- 조정 규칙:\n"
			+ "  - 조정은 반드시 사실 기반이어야 하며, 공식 발표된 악재에 한해 적용됩니다.\n"
			+ "  - 악재가 반대 산업에 긍정적 영향을 줄 수 있음을 논리적으로 판단하여 점수를 ±1 조정합니다.\n"
			+ "- 예시:\n"
			+ "  - '이재명 유죄 판결' → 같은 당의 김경수 또는 김동연에 호재로 작용.\n"
			+ "  - '경쟁사의 대규모 생산 차질' → 해당 산업의 주식에 긍정적 영향.\n"
			+ "  - '확인되지 않은 소문'은 평가에서 제외.\n\n"

			+ "**5단계: 이벤트 및 테마 점수 통합**\n"
			+ "- 이벤트 점수와 테마 점수의 평균을 계산하여 주식의 종합 점수를 도출합니다:\n"
			+ "  - 종합 점수 = (이벤트 점수 + 테마 점수) / 2\n"
			+ "- 이벤트 점수 또는 테마 점수가 0인 경우, 종합 점수는 최대 3을 초과할 수 없습니다. 이는 제한된 잠재력을 나타냅니다.\n\n"

			+ "**최종 출력**\n"
			+ "- 최종 매수 추천 점수를 0에서 5 사이의 정수로 제공합니다.\n"
			+ "- 다음 세부 사항을 포함합니다:\n"
			+ "  - 주식 이름\n"
			+ "  - 이벤트 점수\n"
			+ "  - 테마 점수\n"
			+ "  - 조정된 점수\n"
			+ "  - 점수에 대한 근거 (요약된 형태).\n";

}
