package com.bjcareer.GPTService.out.api.gpt.thema.prompt;
public class ThemaPrompt {
	public static final String PROMPT =
		"Imagine three experts evaluating a news article's relevance to the stock market.\n"
			+ "Each expert will analyze the article step by step and refine their conclusions collaboratively.\n"
			+ "The content of the news article is provided within <article></article> tags.\n\n"

			+ "질문: 주식 상승의 이유를 나타내는 테마와 관련 종목을 추출하고 분류하고 싶습니다.\n"
			+ "참고: 일부 경우에는 유효한 테마가 없을 수도 있으며, 테마가 항상 존재하는 것은 아닙니다.\n"

			+ "단계 1: **주가 상승 이유 식별**\n"
			+ "- 기사에서 설명하고 있는 주가 상승 원인을 식뱔합니다. 반드시 기사에서 제공된 사실만 사용하고 의견은 사용하지 않습니다.\n"
			+ "- 이 후 주가 상승 원인을 한 문장으로 요약합니다.\n"
			+ "- 위의 문장에서 주어를 획득하여 키워드로 변환합니다.\n\n"
			+ "- 예시:\n"
			+ "  - '삼성전자의 반도체 수요 증가로 주가 상승' → 키워드: '반도체 수요 증가'\n"
			+ "  - '정부의 재생 에너지 보조금 발표로 주가 상승' → 키워드: '재생 에너지 보조금'\n\n"
			+ "  - '정치적 혼란으로 인해 이재명 한동훈 테마주가 상승했다 -> 키워드: '이재명', '한동훈'\n"
			+ "단계 1.1을 진행합니다.\n\n"

			+ "**단계 1.1: 비특징적인 언어 필터링**\n"
			+ "- 키워드가 단순히 시장 참여자(예: '외국인', '기관', '개인')나 시장 지수(예: '코스피', '코스닥')를 나타내는 경우, 키워드에서 제외합니다.\n"
			+ "- 키워드는 사건, 기술, 정책, 인물, 현상을 구체적으로 나타내야 하며, 단순한 시장 동향 또는 거래 형태를 설명하는 경우 제외합니다.\n"
			+ "- 예시:\n"
			+ "  - 잘못된 경우: '코스피', '외국인 매수', '기관 매도'\n"
			+ "  - 올바른 경우: '정부 금리 인상', 'AI 투자 확대', '전기차 보조금 정책'\n"
			+ "단계 2를 진행합니다.\n\n"

			+ "단계 2: **키워드를 테마로 변환**\n"
			+ "- 단계 1에서 식별한 키워드를 명사형 테마로 변환합니다.\n"
			+ "- 변환된 테마는 독립적이고, 직관적인 의미를 전달할 수 있어야 하며, 재사용성이 있어야 합니다.\n"
			+ "- 보다 일반적인 표현보다는 사건, 기술 또는 현상의 중심 개념을 선택하세요.\n"
			+ "- 이 단계에서 생성된 테마의 예시는 다음과 같습니다..\n"
			+ "- 예시:\n"
			+ "  - '딥페이크 기술' → 키워드: '딥페이크'\n"
			+ "  - '재생 에너지 보조금' → 키워드: '재생 에너지'\n"
			+ "다음 단계 2.1을 진행합니다.\n\n"

			+ "단계 2.1: 테마 이름과 종목 이름의 불일치 규칙 적용**\n"
			+ "- 테마 이름과 종목 이름은 동일할 수 없습니다.\n"
			+ "- 테마는 사건, 기술, 정책, 사회적 현상 등을 대표하는 상위 개념이어야 하며, 특정 회사 이름은 종목 필드에만 포함됩니다.\n"
			+ "- 예시:\n"
			+ "  - 잘못된 경우: 테마: '아가방컴퍼니', 종목: ['아가방컴퍼니']\n"
			+ "  - 올바른 경우: 테마: '저출산', 종목: ['아가방컴퍼니']\n\n"
			+ "다음 단계 2.2을 진행합니다.\n\n"

			+ "단계 2.2 **정치적 사건의 테마 기준 강화**\n"
			+ "- 단계 2에서 생성된 테마가 정치적 사건과 관련된 경우, 특정 인물을 테마로 지정해야 합니다.\n"
			+ "- 일반화된 테마(예: '정치인 테마주')는 허용되지 않으며, 기사에서 직접 언급된 인물만 테마로 선택할 수 있습니다.\n"
			+ "- 해당 인물과 명확한 연결고리가 없는 종목은 종목 필드에서 제외해야 하고, 사실만을 사용합니다.\n"
			+ "- 이 단계에서 강화된 기준은 다음 단계에서 테마 필터링에 반영됩니다.\n"
			+ "- 예시:\n"
			+ "  - '이재명 대표의 공직선거법 위반 재판' → 테마: '이재명'\n"
			+ "  - '윤석열 대통령의 대외 정책 발표' → 테마: '윤석열 정책주'\n"
			+ "  - '정치인 테마주가 급등' → 테마 없음, 종목 없음\n\n"
			+ "  - '이재명 정책 발표 -> 키워드 '이재명 정책주'\n"
			+ "다음 단계 2.3을 진행합니다.\n\n"

			+ "단계 2.3: 정책 및 인물 중심의 테마 우선순위 적용**\n"
			+ "- 정치적 사건 또는 정책 발표가 테마 이름으로 설정될 경우, 해당 사건이 특정 인물과 연결되었는지 평가합니다.\n"
			+ "- 인물이나 정책의 영향을 받는 기업과 산업을 구체적으로 명시합니다.\n"
			+ "- 예시:\n"
			+ "  - '윤석열 대통령의 경제 정책 발표' → 테마: '윤석열 정책주'\n"
			+ "  - '이재명 대표의 공약' → 테마: '이재명 정책주'\n\n"
			+ "다음 단계 2.4을 진행합니다.\n\n"

			+ "단계 2.4: 정치적 테마와 관련 주식의 관계 검증**\n"
			+ "- 정치적 테마와 관련 주식의 관계가 명확히 기사에 명시되어야 테마 이름으로 설정할 수 있습니다.\n"
			+ "- 단순히 인물과 연결된 주식 이름만으로 테마를 설정하지 않습니다. 정책 발표나 사건이 실제로 시장에 영향을 미치는지 확인합니다.\n"
			+ "- 예시:\n"
			+ "  - 잘못된 경우: 테마: '정치적 사건', 주식: ['삼부토건']\n"
			+ "  - 올바른 경우: 테마: '트럼프-젤렌스키 평화 논의', 주식: ['삼부토건', 'TYM']\n\n"
			+ "다음 단계 2.5을 진행합니다.\n\n"

			+ "단계 2.5: 테마 이름의 유용성 검증**\n"
			+ "- 테마 이름이 명확하고 구체적이지 않으면 테마 설정에서 제외합니다.\n"
			+ "- 테마 이름이 이후 데이터 분석이나 활용에서 실질적인 정보를 제공할 수 있어야 합니다.\n"
			+ "- 예시:\n"
			+ "  - 잘못된 경우: '정치적 사건'\n"
			+ "  - 올바른 경우: '트럼프-젤렌스키 평화 논의'\n"
			+ "  - 잘못된 경우: '경제적 사건'\n"
			+ "  - 올바른 경우: '한미 금리 인상 협의'\n\n"
			+ "다음 단계 3을 진행합니다.\n\n"

			+ "**단계 3: 특정 기업 및 보고서 발행자 이름 필터링 규칙**\n"
			+ "- 테마 이름에 증권사, 보고서 작성 기관, 발표 장소 등의 이름이 포함되지 않도록 필터링합니다.\n"
			+ "- 이러한 이름은 기사에서 부수적인 정보로 간주하며, 테마 이름으로 설정되지 않습니다.\n"
			+ "- 필터링 후에는 산업, 기술, 또는 사건의 주요 키워드를 기반으로 테마를 다시 설정합니다.\n"
			+ "- 예시:\n"
			+ "  - 잘못된 경우: 테마: '메리츠 증권', 종목: ['메리츠 증권']\n"
			+ "  - 잘못된 경우: 테마: '키움증권', 종목: ['키움증권']\n"
			+ "다음 단계 4를 진행합니다\n\n"

			+ "단계 4: 투자자 행동 및 시장 동향 필터링 강화**\n"
			+ "- 테마 이름에 투자자 행동(예: '매수세', '반발 매수세', '거래 증가') 또는 시장 동향(예: '코스피 상승')과 같은 용어가 포함되지 않도록 필터링합니다.\n"
			+ "- 기사에서 투자자 행동이 언급된 경우, 해당 행동의 근본 원인(정책, 산업, 기술 등)을 분석하여 적절한 테마 이름을 설정합니다.\n"
			+ "- 예시:\n"
			+ "  - 잘못된 경우: 테마: '기술주 반발 매수세'\n"
			+ "  - 올바른 경우: 테마: '기술주'\n"
			+ "다음 단계 5를 진행합니다\n\n"

			// 이후 기존 단계 이어짐
			+ "**5단계: 테마 간 상위 개념과 하위 개념 관계 고려**\n"
			+ "- 단계 3에서 추출된 테마를 분석하여 상위 개념과 하위 개념의 관계를 확인합니다.\n"
			+ "- 상위 개념과 하위 개념이 강하게 연결된 경우, 상위 개념만 테마로 선택합니다.\n"
			+ "- 하위 개념은 상위 개념의 부가적인 설명이나 키워드로 활용될 수 있습니다.\n"
			+ "- 이 단계에서 도출된 상위 개념 테마는 최종 출력에 반영됩니다.\n"
			+ "- 예시:\n"
			+ "  - '애플이 가정용 로봇 개발 검토 중' → 테마: '애플'\n"
			+ "  - '가정용 로봇 개발'은 '애플' 테마 안의 세부 설명으로 간주\n\n"
			+ "다음 단계 6를 진행합니다\n\n"

			+ "단계 6: **기존 테마 확인**\n"
			+ "<themas></themas> XML에 테크안에 있는 문장을 가지고 옵니다\n"
			+ "- 이후 해당 문자열을 ',' 단위로 split을 진행합니다.\n"
			+ "기존 테마 목록을 확인하여 새로운 테마와 유사한 테마가 있는지 확인합니다."
			+ "단계 7를 진행합니다\n\n"

			+ "단계 7: **Word Embedding 기반 동의어 및 유사 표현 병합**\n"
			+ "- 동의어 및 유사 표현을 Word Embedding을 사용하여 처리합니다.\n"
			+ "- 기존 테마와 새로운 테마 간의 유사도를 측정하여 동의어 여부를 판별합니다.\n"
			+ "- 임계값(예: Cosine Similarity, 0.6 이상)을 만족하는 경우, 기존 테마를 사용합니다..\n\n"

			+ "단계 7.1 Embedding 기반 동의어 처리 과정:\n"
			+ "1. 각 테마 이름을 임베딩 벡터로 변환합니다.\n"
			+ "   - Sentence Embedding 모델을 사용합니다.\n"
			+ "2. 기존 테마와 새로운 테마 간의 유사도를 계산합니다.\n"
			+ "   - 유사도를 사용하여 유사도 점수를 측정합니다.\n"
			+ "3. 유사도가 임계값(예: 0.6)을 초과하면, 해당 테마를 기존 테마를 사용합니다.\n"
			+ "4. 유사한 이름이 없는 경우, 새로운 테마 이름을 사용합니다.\n\n"

			+ "**단계 6: **출력 형식 정의**\n"
			+ "- 출력 형식:\n"
			+ "  - 테마: [테마 이름]\n"
			+ "  - 원인: [원인 이름]\n"
			+ "  - 종목: [명시적으로 연결된 종목]\n"
			+ "- 예시:\n"
			+ "  - 테마: '애플', 원인: '로봇 사업 추진', 종목: ['덕우전자']\n";
}
